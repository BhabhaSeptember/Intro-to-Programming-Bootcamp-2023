<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3. Ch11 (Interactive Content)</title>

    <!-- 
//STYLES
//DOM EVENT FLOW 
//EXAMPLE 1:
div {
border: 1px solid black;
margin-left: 5px;
}



//DRAG & DROP EVENTS
//EXAMPLE 1:
.box {
height: 200px;
width: 200px;
padding: 20px;
margin: 0 50px;
display: inline-block;
border: 1px solid black;
}
#dragme {
background-color: red;
}



/*  PRACTICE EXERCISE 11.9 */
.box {
    width: 100px;
height: 100px;
border: 1px solid black;
background-color: white;
}
.red {
background-color: red;
}



//ANIMATING ELEMENTS
//EXAMPLE 1: 
div {
background-color: purple;
width: 100px;
height: 100px;
position: absolute;
}




/*    PRACTICE EXERCISE 11.11   */
 div {
          background-color: purple;
          width: 100px;
          height : 100px;
          position : absolute;
      }





      //CHAPTER PROJECTS
      //1. ANALYTICS
   .box{
        width: 200px;
        height : 100px;
        border : 1px solid black
     }



     //2. STAR RATING SYSTEM
.stars ul {
    list-style-type : none;
    padding : 0;
}
.star {
    font-size : 2em;
    color : #ddd;
    display : inline-block;
}
.orange {
    color : orange;
}
.output {
    background-color : #ddd;
}




//3. MOUSE POSITION TRACKER
 .holder {
    display : inline-block;
    width : 300px;
    height : 300px;
    border : 1px solid black;
    padding : 10px;
  }

  .active {
    background-color : red;
  }



//4. CLICK ME GAME
.output {
width: 500px;
height: 500px;
border: 1px solid black;
margin: auto;
text-align: center;
}
.box {
width: 50px;
height: 50px;
position: relative;
top: 50px;
left: 20%;
background-color: red;
}
.message {
text-align: center;
padding: 10px;
font-size: 1.3em;
}



 


    -->

    <style>



       /* 
       .stars ul {
    list-style-type : none;
    padding : 0;
}
.star {
    font-size : 2em;
    color : #ddd;
    display : inline-block;
}
.orange {
    color : orange;
}
.output {
    background-color : #ddd;
} 



//3. MOUSE POSITION TRACKER
.holder {
    display : inline-block;
    width : 300px;
    height : 300px;
    border : 1px solid black;
    padding : 10px;
  }

  .active {
    background-color : aquamarine;
  }

  */

 
     </style>

  </head>
  <body>
    <h2>3. Ch11 : Interactive Content & Event Listeners</h2>
    <hr />

 

    <div class="output"></div>
    <div class="message"></div>


<script> 








//JS
const output = document.querySelector(".output");
const message = document.querySelector(".message");
message.textContent = "Press To Start";
const box = document.createElement("div");

const game = {
    timer : 0,
    start : null
};

box.classList.add("box");
output.append(box);

box.addEventListener("click", (e) => {
    box.textContent = "";
    box.style.display = "none";
    game.timer = setTimeout(addBox, ranNum(3000));

    if (!game.start) {
        message.textContent = "Loading...";
    } else {
        const current = new Date().getTime();
        const duration = (current - game.start) / 1000;
        message.textContent = `It took ${duration} seconds to click`;
    }
});

function addBox()  {
    message.textContent = "Click To Start! [^_^]";
    game.start = new Date().getTime();
    box.style.display = "block";
    box.style.left = ranNum(450) + "px";
    box.style.top = ranNum(450) + "px";
}



function ranNum(max) {
    return Math.floor(Math.random() * max);
}





</script>


    <!--

        //CHAPTER PROJECTS
//1. BUILDING ANALYTICS (SEE 'head' above for 'stylesheet')
//HTML
<div class="container">
    <div class="box" id="box0"> Box #1 </div>
    <div class="box" id="box1"> Box #2 </div>
    <div class="box" id="box2"> Box 3 </div>
    <div class="box" id="box3"> Box #4 </div>
</div>


//JS
const counter = [];
const main = document.querySelector(".container");
main.addEventListener("click", tracker);

function tracker(e) {
    const element = e.target;
    if (element.id) {
        const temp = {};
        temp.content = element.textContent;
        temp.id = element.id;
        temp.tagName = elment.tagName;
        temp.class = element.className;
        console.dir(element);
        counter.push(temp);
        console.log(counter);
    }
}




//2. STAR RATING SYSTEM (SEE 'head' above for 'stylesheet')
//HTML
<ul class="stars">
    <li class="star">&#10029;</li>
    <li class="star">&#10029;</li>
    <li class="star">&#10029;</li>
    <li class="star">&#10029;</li>
    <li class="star">&#10029;</li>
    </ul>
    <div class="output"></div>




//JS
const starsUl = document.querySelector(".stars");
const output = document.querySelector(".output");
const stars = document.querySelectorAll(".star");

stars.forEach((star, index) => {  //Looping through node list
    star.starValue = (index + 1);
    star.addEventListener("click", starRate);
});

function starRate(e) {
    output.innerHTML = `<i>"The Great Gastby"</i>  by  F. Scott Fitzgerald <br><br> Review Rating = ${e.target.starValue}`; //Adding value of star to output (event target + star value)

stars.forEach((star, index) => {
    if (index < e.target.starValue) {
        star.classList.add("orange");
    } else {
        star.classList.remove("orange");
    }
});
}





//3. MOUSE POSITION TRACKER (SEE 'head' above for 'stylesheet')
//HTML
<div class="holder">
    <div id="output"></div>
</div>
    


//JS
const element = document.querySelector(".holder");
element.addEventListener("mouseover", (e) => {
    e.target.classList.add("active");
});
element.addEventListener("mouseout", (e) => {
    e.target.classList.remove("ative");
});
element.addEventListener("mousemove", coordinates);

function coordinates() {
    let html = "X: " + event.clientX + " | Y: " + event.clientY;
    document.getElementById("output").innerHTML = html;
}






//4. BOX CLICKER SPEED TEST GAME
//HTML
<div class="output"></div>
<div class="message"></div>

//JS
const output = document.querySelector(".output");
const message = document.querySelector(".message");
message.textContent = "Press To Start";
const box = document.createElement("div");

const game = {
    timer : 0,
    start : null
};

box.classList.add("box");
output.append(box);

box.addEventListener("click", (e) => {
    box.textContent = "";
    box.style.display = "none";
    game.timer = setTimeout(addBox, ranNum(3000));
    if (!game.start) {
        message.textContent = "Loading...";
    } else {
        const current = new Date().getTime();
        const duration = (current - game.start) / 1000;
        message.textContent = `It took ${duration} seconds to click`;
    }
});

function addBox()  {
    message.textContent = "Click To Start! [^_^]";
    game.start = new Date().getTime();
    box.style.display = "block";
    box.style.left = ranNum(450) + "px";
    box.style.top = ranNum(450) + "px";
}



function ranNum(max) {
    return Math.floor(Math.random() * max);
}



        // CHAPTER CODE:
        //SPECIFYING EVENTS (WITH HTML & JS)
        /* PRACTICE EXERCISE 11.1 */
        //HTML
        <button> Change Display Mode </button>
        

       //JS
    let darkMode = false;
    window.onclick = () => {
        console.log(darkMode);
        if (!darkMode) {
            document.body.style.backgroundColor = "black";
            document.body.style.color = "white";
            darkMode = true;
        } else {
            document.body.style.backgroundColor = "white";
            doocument.body.style.color = "black";
            darkMode = false
        }
    }





    //SPECIFYING EVENTS WITH EVENT LISTENERS
/* PRACTICE EXERCISE 11.2 */
//HTML
  <div id="pink"> Pink </div>
     <div id="purple"> Purple </div>
     <div id="green"> Green </div>
     <div id="blue"> Blue </div>
     <div id="gold"> Gold </div>


     //JS
     //SOLUTION 1
const divs = document.querySelectorAll("div");
divs.forEach((e) => {
    e.addEventListener("click", e => e.target.style.backgroundColor = e.target.textContent);
    });

    //SOLUTION 2
let divs = document.querySelectorAll("div");
divs.forEach(element => {
    element.addEventListener("click", changeColor);
});

function changeColor(event) {
event.target.style.backgroundColor = event.target.textContent;
}
    


//THE ONLOAD EVENT HANDLER
/* PRACTICE EXERCISE 11.3 */
//Window finishes loading last after DOM
function message(theMessage, theEvent) {
    console.log(theMessage, theEvent);
}

window.onload = (e) => {
    message("Window ready", e);
}

document.addEventListener("DOMContentLoaded", (e) => {
    message("Document ready", e);
});




//MOUSE EVENT HANDLERS
//EXAMPLE 1:
//HTML
<div id="divvy" onmouseover="changeColor()" style="width: 100px;
     height: 100px; background-color: pink;">

     //JS
function changeColor() {
document.getElementById("divvy").style.backgroundColor ="blue";
}




//EXAMPLE 2:
<div id="divvy" style="width: 100px; height: 100px; background-color: pink;">
        window.onload = function donenow() {
console.log("hi");
document.getElementById("divvy").addEventListener("mousedown",
function() { changeColor(this, "green"); });
document.getElementById("divvy").addEventListener("mouseup",
function() { changeColor(this, "yellow"); });
document.getElementById("divvy").addEventListener("dblclick",
function() { changeColor(this, "black"); });
document.getElementById("divvy").addEventListener("mouseout",
function() { changeColor(this, "blue"); });
}
console.log("hi2");


function changeColor(element, color) {
element.style.backgroundColor = color;
}




/* PRACTICE EXERCISE 11.4 */
//HTML
    <button class="button"> </button>


    //JS
    const button = document.querySelector(".button");
button.textContent = "Click Here! {^_^}";
button.style.height = "100px";
button.style.width = "300px";
button.style.backgroundColor

button.addEventListener("mousedown", function(e) {
    message("green", e);
});
button.addEventListener("mouseover", function(e) {
    message("red", e);
});
button.addEventListener("mouseout", function(e) {
    message("yellow", e);
});
button.addEventListener("mouseup", function(e) {
    message("green", e);
});

function message(color, event) {
    console.log(event.type);
    button.style.backgroundColor = color;
}





//THE EVENT TARGET PROPERTY
//EXAMPLE 1
<button type="button" onclick="triggerSomething()"> Please Click Here </button>

function triggerSomething() {
console.dir(event.target);
}



//EXAMPLE 2:
//HTML 
<div id="welcome">Hi there!</div>
     <form>
        <input type="text" name="firstname" placeholder="First name" />
        <input type="text" name="lastname" placeholder="Last name" />
        <input type="button" onclick="sendInfo()" value="Submit" />
        </form>


        //JS
function sendInfo() {
let p = event.target.parentElement;
message("Welcome " + p.firstname.value + " " + p.lastname.value);
}

function message(m) {
document.getElementById("Welcome").innerHTML = message;
}




/*   PRACTICE EXERCISE 11.5   */
//HTML
 <div class="output"></div>
     <input type="text" name="message" placeholder="Your Message">
     <button class="btn1">Button 1</button>
     <button class="btn2">Button 2</button>
     <div>
     <button class="btn3">Log</button>
     </div>



//JS 
const output = document.querySelector(".output");
const myInput = document.querySelector("input[name = 'message']");
const btn1 = document.querySelector(".btn1");
const btn2 = document.querySelector(".btn2");
const btn3 = document.querySelector(".btn3");

const log = [];

btn1.addEventListener("click", tracker);
btn2.addEventListener("click", tracker);
btn3.addEventListener("click", (e) => {
    console.log(log);
});

function tracker(e) {
    output.textContent = myInput.value;
    const ev = e.target;
    console.dir(ev);
    const temp = {
        message: myInput.value,
        type: ev.type,
        class: ev.className,
        tag: ev.tagName
    };
    log.push(temp);
    myInput.value = "";
}





//DOM EVENT FLOW
//EXAMPLE 1: (Styles in 'head' above!)
//HTML
 <div id="message"> Bubbling events </div>

     <div id="output">
     1
     <div>
     2
     <div>
     3
     <div>
     4
     <div>
        5
    </div>

</div>
</div>
</div>
</div>
    

//JS
function bubble() {
console.log(this.innerText);
}

let divs = document.getElementsByTagName("div");
for (let i = 0; i < divs.length; i++) {
divs[i].addEventListener("click", bubble);
}





/* PRACTICE EXERCISE 11.6 */
//HTML
 <div class="container">

        <div class="box" id="box0"> Box #1 </div>
        <div class="box" id="box1"> Box #2 </div>
        <div class="box" id="box2"> Box #3 </div>
        <div class="box" id="box3"> Box #4 </div>

        </div>








//JS
const main = document.querySelector(".container");
const boxes = document.querySelectorAll(".box");
main.addEventListener("click", (e) => {
    console.log("4");
}, false);
main.addEventListener("click", (e) => {
    console.log("1");
}, true);

boxes.forEach(ele => {
    ele.addEventListener("click", (e) => {
        console.log("3");
        console.log(e.target.textContent);
    }, false);
    ele.addEventListener("click", (e) => {
        console.log("2");
        console.log(e.target.textContent);
    }, true);
});



//ONCHANGE & ONBLUR
//HTML
<div id="welcome">Hi there!</div>
     <form>
     <input type="text" name="firstname" placeholder="First name"
     onchange="logEvent()" />
     <input type="text" name="lastname" placeholder="Last name"
     onblur="logEvent()" />
     <input type="button" onclick="sendInfo()" value="Submit" />
     </form>
    

     //JS
function logEvent() {
let p = event.target;
if (p.name === "firstname") {
message("First Name Changed to " + p.value);
} else {
message("Last Name Changed to " + p.value);
}
}
function sendInfo() {
let p = event.target.parentElement;
message("Welcome " + p.firstname.value + " " + p.lastname.
value);
}
function message(m) {
document.getElementById("welcome").innerHTML = m;
}




/*    PRACTICE EXERCISE 11.7   */
//HTML
<div class="output1"> </div>

    <input type="text" placeholder="First Name" name="first"> <br>
    <input type="text" placeholder="Last Name" name="last"> <br>


    //JS
const output = document.querySelector(".output1");
const identity1 = document.querySelector("input[name = 'First']");
const identity2 = document.querySelector("input[name = 'Last']");
identity1.addEventListener("change", (e) => {
    console.log(Change");
    updater(identity1.value);
});
identity1.addEventListener("blur", (e) => {
    console.log("Bur");
});
identity1.addEventListener("focus", (e) => {
    console.log("Focus");
});



function updater(string) {
    output.textContent - string;
}








//KEY EVENT HANDLER
//EXAMPLE 1:
//HTML

     <div id="wrapper"> Welcome! </div>
<input type="text" name="myNum1" onkeypress="numCheck()">
<input type="text" name="myNum2" onkeypress="numCheck2()">
     

//JS
function numCheck() {
message("Number: " + !isNaN(event.key));
return !isNaN(event.key);
}
function numCheck2() {
message("Not a number: " + isNaN(event.key));
return isNaN(event.key);
}
function message(m) {
document.getElementById('wrapper').innerHTML = m;
}



//EXAMPLE 2:
//HTML
<div id="wrapper">JavaScript is fun!</div>
<input type="text" name="myNum1" onkeypress="return numCheck()"
onpaste="return false">
<input type="text" name="myNum2" onkeypress="return numCheck2()"
onpaste="return false">


//JS
function numCheck() {
message(!isNaN(event.key));
return !isNaN(event.key);
}
function numCheck2() {
message(isNaN(event.key));
return isNaN(event.key);
}
function message(m) {
document.getElementById("wrapper").innerHTML = m;
}



/*    PRACTICE EXERCISE 11.8   */
//HTML
<div class="output"> </div>
     <input type="text" name="num1">
     <input type="text" name="num2">



     //JS
const elements = document.querySelectorAll("input");
const output = document.querySelector(".output");
elements.forEach( element => {
    element.addEventListener("keydown", (e) =>{
        if (!isNaN(e.key)) {
            output.textContent += e.key;
        }
    });
    element.addEventListener("keyup", (e) => {
        console.log(e.key);
    });
    element.addEventListener("paste", (e) => {
        console.log("pasted");
    });
});




//DRAG & DROP ELEMENTS
//EXAMPLE 1: (NB: SEE 'head' above for 'stylesheet')
//HTML
     <div class="box" ondrop="dDrop()" ondragover="nDrop()"> 1
        <div id="dragme" ondragstart="dStart()" draggable="true">
            Drag Me Please!
            </div>
     </div>
<div class="box" ondrop="dDrop()" ondragover="nDrop()"> 2 </div>


//JS
let holderItem;
function dStart() {
holderItem = event.target;
}
function nDrop() {
event.preventDefault();
}
function dDrop() {
event.preventDefault();
if (event.target.className == "box") {
event.target.appendChild(holderItem);
}
}




/*   PRACTICE EXERCISE 11.9 (See 'head' above for 'stylesheet')  */
//HTML
     <div class="box">1
        <div id="dragme" draggable="true">
        Drag Me Please!
        </div>
        </div>
        <div class="box">2</div>


        //JS
const dragme = document.querySelector("#dragme");
dragme.addEventListener("dragstart", (e) => {
    dragme.style.opacity = .5;
});
dragme.addEventListener("dragged", (e) => {
    dragme.style.opacity = "";
});
const boxes = document.querySelectorAll(".box");
boxes.forEach(box => {
    box.addEventListener("dragenter", (e) => {
        e.target.classList.add("red");
    });
    box.addEventListener("dragover", (e) => {
        e.preventDefault();
    });
    box.addEventListener("dragleave", (e) => {
        console.log(leave);
e.target.classList.remove("red");
    });
    box.addEventListener("drop", (e) => {
        e.preventDefault();
        console.log("dropped");
        e.target.appendChild(dragme);
    });
});
function dragStart(e) {
    console.log("Started");
}



//FORM SUBMISSION
//EXAMPLE 1:
//HTML
<form action="anotherpage.html" method="get">
        <input type="text" placeholder="name" name="name" />
        <input type="submit" value="send" />
        </form>


        //JS
let q = window.location.search;
let params = new URLSearchParams(q);
let name = params.get("name");
console.log(name);


//EXAMPLE 2: 
//HTML
<div id="wrapper"></div>
<form action="anotherpage.html" method="get" onsubmit="return
valForm()">
<input type="text" id="firstName" name="firstName"
placeholder="First name" />
<input type="text" id="lastName" name="lastName"
placeholder="Last name" />
<input type="text" id="age" name="age" placeholder="Age" />
<input type="submit" value="submit" />
</form>


//JS
function valForm() {
var p = event.target.children;
if (p.firstName.value == "") {
message("Need a first name!!");
return false;
}
if (p.lastName.value == "") {
message("Need a last name!!");
return false;
}
if (p.age.value == "") {
message("Need an age!!");
return false;
}
return true;
}
function message(m) {
document.getElementById("wrapper").innerHTML = m;
}



/*  PRACTICE EXERCISE 11.10  */
//HTML
    <form action="index2.html" method="get"> 
        First: <input type="text" name="first">
        <br> Last: <input type="text" name="last">
        <br> Age <input type="number" name="age">
        <br> <input type="submit" value="submit">
    </form>


//JS
const form = document.querySelector("form");
const email = document.querySelectorAll("#email");
form.addEventListener("submit", (e) => {
    let error = false;
    if (checker(form.first.value)) {
        console.log("First Name Needed! ");
        error : true;
    }
    if(checker(form.last.value)) {
        console.log("Last Name Needed!");
        error : true;
    }
    if (form.age.value < 19) {
        console.log("You must be 19 or over to proceed!");
        error : true;
    }
    if (error) {
        e.preventDefault();
        console.log("Please review the form");
    }

});


function checker(val) {
    console.log(vaal.length);
    if (val.length < 6) {
        return true;
    }
    return false;
}




//ANIMATING ELEMENTS
//EXAMPLE 1:
//HTML
     <button onclick="toTheRight()"> Go right </button>
<div id="block"></div>

//JS
function toTheRight() {
let b = document.getElementById("block");
let x = 0;
setInterval(function () {
    if (x === 1600) {
clearInterval();
} else {
x++;
b.style.left = x + "px";
}
}, 2);
}




/*    PRACTICE EXERCISE 11.11 (SEE'head' above for 'stylesheet')  */
//HTML
 <div id="block"> </div>

 //JS

const main = document.querySelector("#block");
let mover = { speed : 10, dir : 1, pos : 0};
main.addEventListener("click", moveBlock);

function moveBlock() {
    let x = 30;
    setInterval(function () {
        if (x < 1) {
            clearInterval();
        } else {
            if (mover.pos > 800 || mover.pos < 0) {
                mover.dir *= -1;
            }
            x--;
            mover.pos += x * mover.dir;
            main.style.left = mover.pos + "px";
            console.log(mover.pos);
        }
    }, 2);
}









//CHAPTER PROJECTS
//1. BUILDING ANALYTICS (SEE 'head' above for 'stylesheet')
//HTML
<div class="container">
    <div class="box" id="box0"> Box #1 </div>
    <div class="box" id="box1"> Box #2 </div>
    <div class="box" id="box2"> Box 3 </div>
    <div class="box" id="box3"> Box #4 </div>
</div>


//JS
const counter = [];
const main = document.querySelector(".container");
main.addEventListener("click", tracker);

function tracker(e) {
    const element = e.target;
    if (element.id) {
        const temp = {};
        temp.content = element.textContent;
        temp.id = element.id;
        temp.tagName = elment.tagName;
        temp.class = element.className;
        console.dir(element);
        counter.push(temp);
        console.log(counter);
    }
}




//2. STAR RATING SYSTEM (SEE 'head' above for 'stylesheet')
//HTML
<ul class="stars">
    <li class="star">&#10029;</li>
    <li class="star">&#10029;</li>
    <li class="star">&#10029;</li>
    <li class="star">&#10029;</li>
    <li class="star">&#10029;</li>
    </ul>
    <div class="output"></div>




//JS
const starsUl = document.querySelector(".stars");
const output = document.querySelector(".output");
const stars = document.querySelectorAll(".star");
stars.forEach((star, index) => {
    star.starValue = (index + 1);
    star.addEventListener("click", starRate);
});
function starRate(e) {
    output.innerHTML =
`You Rated This ${e.target.starValue} stars`;
stars.forEach((star, index) => {
    if (index < e.target.starValue) {
        star.classList.add("orange");
    } else {
        star.classList.remove("orange");
    }
});
}





//3. MOUSE POSITION TRACKER (SEE 'head' above for 'stylesheet')
//HTML
<div class="holder">
    <div id="output"></div>
</div>
    


//JS
const element = document.querySelector(".holder");
element.addEventListener("mouseover", (e) => {
    e.target.classList.add("active");
});
element.addEventListener("mouseout", (e) => {
    e.target.classList.remove("ative");
});
element.addEventListener("mousemove", coordinates);

function coordinates() {
    let html = "X: " + event.clientX + " | Y: " + event.clientY;
    document.getElementById("output").innerHTML = html;
}






//4. BOX CLICKER SPEED TEST GAME
//HTML
<div class="output"></div>
<div class="message"></div>

//JS
const output = document.querySelector(".output");
const message = document.querySelector(".message");
message.textContent = "Press To Start";
const box = document.createElement("div");

const game = {
    timer : 0,
    start : null
};

box.classList.add("box");
output.append(box);

box.addEventListener("click", (e) => {
    box.textContent = "";
    box.style.display = "none";
    game.timer = setTimeout(addBox, ranNum(3000));
    if (!game.start) {
        message.textContent = "Loading...";
    } else {
        const current = new Date().getTime();
        const duration = (current - game.start) / 1000;
        message.textContent = `It took ${duration} seconds to click`;
    }
});

function addBox()  {
    message.textContent = "Click To Start! [^_^]";
    game.start = new Date().getTime();
    box.style.display = "block";
    box.style.left = ranNum(450) + "px";
    box.style.top = ranNum(450) + "px";
}



function ranNum(max) {
    return Math.floor(Math.random() * max);
}




//SELF-CHECK QUIZ
//1. Window Object Model or Browser Object Model
//2. Cancels the event if it can be canceled. Default action belonging to event will not occur


-->



  </body>
</html>
